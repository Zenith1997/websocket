{"version":3,"sources":["index.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","args","err","undefined","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","prototype","exports","_ws","_interopRequireDefault","require","_axios","_crypto","__esModule","createRequestConfig","_ref","secret","payload","encodedPayload","Buffer","from","JSON","stringify","toString","signature","createHmac","update","digest","headers","makeParams","options","params","reduce","acc","crtKey","prs","Array","isArray","a","crtP","concat","substring","Gemini","_ref2","sandbox","_ref2$sandbox","subdomain","baseUrl","_requestPublic","regeneratorRuntime","mark","_callee","endpoint","res","_args","wrap","_callee$","_context","prev","next","get","sent","abrupt","data","stop","requestPublic","_x","_requestPrivate","_callee2","requestPath","requestUrl","config","_args2","_callee2$","_context2","Error","nonce","Date","now","request","post","requestPrivate","_x2","getAllSymbols","getTicker","symbol","getOrderBook","getTradeHistory","getCurrentAuction","getAuctionHistory","newOrder","type","cancelOrder","_ref3","order_id","cancelAllSessionOrders","cancelAllActiveOrders","getMyOrderStatus","_ref4","getMyActiveOrders","getMyPastTrades","getMyTradeVolume","getMyAvailableBalances","newAddress","currency","newWebSocketOrderEvents","newWebSocketMarketData"],"mappings":"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","sourcesContent":["\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _ws = _interopRequireDefault(require(\"ws\"));\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar createRequestConfig = function createRequestConfig(_ref) {\n  var key = _ref.key,\n      secret = _ref.secret,\n      payload = _ref.payload;\n  var encodedPayload = Buffer.from(JSON.stringify(payload)).toString(\"base64\");\n\n  var signature = _crypto[\"default\"].createHmac(\"sha384\", secret).update(encodedPayload).digest(\"hex\");\n\n  return {\n    headers: {\n      'X-GEMINI-APIKEY': key,\n      'X-GEMINI-PAYLOAD': encodedPayload,\n      'X-GEMINI-SIGNATURE': signature\n    }\n  };\n};\n\nvar makeParams = function makeParams() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var params;\n  params = Object.keys(options).reduce(function (acc, crtKey) {\n    var prs;\n\n    if (Array.isArray(options[crtKey])) {\n      prs = options[crtKey].reduce(function (a, crtP) {\n        return \"\".concat(a, \"&\").concat(crtKey, \"=\").concat(crtP === true && 'true' || crtP === false && 'false' || crtP);\n      }, acc);\n      return prs;\n    } else {\n      return \"\".concat(acc, \"&\").concat(crtKey, \"=\").concat(options[crtKey] === true && 'true' || options[crtKey] === false && 'false' || options[crtKey]);\n    }\n  }, \"\");\n\n  if (params !== '') {\n    params = \"?\".concat(params.substring(1));\n  }\n\n  return params;\n};\n\nvar Gemini =\n/*#__PURE__*/\nfunction () {\n  function Gemini() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      sandbox: false\n    },\n        key = _ref2.key,\n        secret = _ref2.secret,\n        _ref2$sandbox = _ref2.sandbox,\n        sandbox = _ref2$sandbox === void 0 ? false : _ref2$sandbox;\n\n    _classCallCheck(this, Gemini);\n\n    this.key = key;\n    this.secret = secret;\n    var subdomain = sandbox ? \"api.sandbox\" : \"api\";\n    this.baseUrl = \"https://\".concat(subdomain, \".gemini.com\");\n  }\n\n  _createClass(Gemini, [{\n    key: \"requestPublic\",\n    value: function () {\n      var _requestPublic = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(endpoint) {\n        var params,\n            res,\n            _args = arguments;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                params = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n                _context.next = 3;\n                return _axios[\"default\"].get(\"\".concat(this.baseUrl, \"/v1\").concat(endpoint), {\n                  params: params\n                });\n\n              case 3:\n                res = _context.sent;\n                return _context.abrupt(\"return\", res.data);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function requestPublic(_x) {\n        return _requestPublic.apply(this, arguments);\n      }\n\n      return requestPublic;\n    }()\n  }, {\n    key: \"requestPrivate\",\n    value: function () {\n      var _requestPrivate = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(endpoint) {\n        var params,\n            requestPath,\n            requestUrl,\n            payload,\n            config,\n            res,\n            _args2 = arguments;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                params = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : {};\n\n                if (!(!this.key || !this.secret)) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                throw new Error(\"API key and secret key required to use authenticated methods\");\n\n              case 3:\n                requestPath = \"/v1\".concat(endpoint);\n                requestUrl = \"\".concat(this.baseUrl).concat(requestPath);\n                payload = _objectSpread({\n                  nonce: Date.now(),\n                  request: requestPath\n                }, params);\n                config = createRequestConfig({\n                  payload: payload,\n                  key: this.key,\n                  secret: this.secret\n                });\n                _context2.next = 9;\n                return _axios[\"default\"].post(requestUrl, {}, config);\n\n              case 9:\n                res = _context2.sent;\n                return _context2.abrupt(\"return\", res.data);\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function requestPrivate(_x2) {\n        return _requestPrivate.apply(this, arguments);\n      }\n\n      return requestPrivate;\n    }() // Public API\n\n  }, {\n    key: \"getAllSymbols\",\n    value: function getAllSymbols() {\n      return this.requestPublic(\"/symbols\");\n    }\n  }, {\n    key: \"getTicker\",\n    value: function getTicker(symbol) {\n      return this.requestPublic(\"/pubticker/\".concat(symbol));\n    }\n  }, {\n    key: \"getOrderBook\",\n    value: function getOrderBook(symbol) {\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return this.requestPublic(\"/book/\".concat(symbol), params);\n    }\n  }, {\n    key: \"getTradeHistory\",\n    value: function getTradeHistory(symbol) {\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return this.requestPublic(\"/trades/\".concat(symbol), params);\n    }\n  }, {\n    key: \"getCurrentAuction\",\n    value: function getCurrentAuction(symbol) {\n      return this.requestPublic(\"/auction/\".concat(symbol));\n    }\n  }, {\n    key: \"getAuctionHistory\",\n    value: function getAuctionHistory(symbol) {\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return this.requestPublic(\"/auction/\".concat(symbol, \"/history\"), params);\n    } // Order Placement API\n\n  }, {\n    key: \"newOrder\",\n    value: function newOrder() {\n      var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return this.requestPrivate(\"/order/new\", _objectSpread({\n        type: \"exchange limit\"\n      }, params));\n    }\n  }, {\n    key: \"cancelOrder\",\n    value: function cancelOrder() {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          order_id = _ref3.order_id;\n\n      return this.requestPrivate(\"/order/cancel\", {\n        order_id: order_id\n      });\n    }\n  }, {\n    key: \"cancelAllSessionOrders\",\n    value: function cancelAllSessionOrders() {\n      return this.requestPrivate(\"/order/cancel/session\");\n    }\n  }, {\n    key: \"cancelAllActiveOrders\",\n    value: function cancelAllActiveOrders() {\n      return this.requestPrivate(\"/order/cancel/all\");\n    } // Order Status API\n\n  }, {\n    key: \"getMyOrderStatus\",\n    value: function getMyOrderStatus() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          order_id = _ref4.order_id;\n\n      return this.requestPrivate(\"/order/status\", {\n        order_id: order_id\n      });\n    }\n  }, {\n    key: \"getMyActiveOrders\",\n    value: function getMyActiveOrders() {\n      return this.requestPrivate(\"/orders\");\n    }\n  }, {\n    key: \"getMyPastTrades\",\n    value: function getMyPastTrades() {\n      var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return this.requestPrivate(\"/mytrades\", params);\n    }\n  }, {\n    key: \"getMyTradeVolume\",\n    value: function getMyTradeVolume() {\n      return this.requestPrivate(\"/tradevolume\");\n    } // Fund Management API\n\n  }, {\n    key: \"getMyAvailableBalances\",\n    value: function getMyAvailableBalances() {\n      return this.requestPrivate(\"/balances\");\n    }\n  }, {\n    key: \"newAddress\",\n    value: function newAddress(currency) {\n      return this.requestPrivate(\"/deposit/\".concat(currency, \"/newAddress\"));\n    } // WebSocket\n\n  }, {\n    key: \"newWebSocketOrderEvents\",\n    value: function newWebSocketOrderEvents() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var requestPath = \"/v1/order/events\";\n      var params = makeParams(options);\n      return new _ws[\"default\"](\"\".concat(this.baseUrl).concat(requestPath).concat(params), createRequestConfig({\n        key: this.key,\n        secret: this.secret,\n        payload: {\n          nonce: Date.now(),\n          request: requestPath\n        }\n      }));\n    }\n  }, {\n    key: \"newWebSocketMarketData\",\n    value: function newWebSocketMarketData(symbol) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var requestPath = \"/v1/marketdata\";\n      var params = makeParams(options);\n      return new _ws[\"default\"](\"\".concat(this.baseUrl).concat(requestPath, \"/\").concat(symbol).concat(params));\n    }\n  }]);\n\n  return Gemini;\n}();\n\nexports[\"default\"] = Gemini;\n//# sourceMappingURL=index.js.map"],"file":"index.js"}